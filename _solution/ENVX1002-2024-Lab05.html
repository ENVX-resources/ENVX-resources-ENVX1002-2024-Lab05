<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="The University of Sydney">

<title>Lab 05</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: #000;
      }

      .quarto-title-block .quarto-title-banner {
        color: #000;
background: white;
      }
</style>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">

<link rel="stylesheet" href="_extensions/soles-assignment/assets/styles.css">
</head>

<body class="floating">

<div id="quarto-search-results"></div>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Lab 05</h1>
            <p class="subtitle lead">ENVX1002</p>
                  <div>
        <div class="description">
          The University of Sydney
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">Semester 1, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#welcome" id="toc-welcome" class="nav-link active" data-scroll-target="#welcome">Welcome</a></li>
  <li><a href="#before-you-begin" id="toc-before-you-begin" class="nav-link" data-scroll-target="#before-you-begin">Before you begin</a>
  <ul class="collapse">
  <li><a href="#create-a-new-project" id="toc-create-a-new-project" class="nav-link" data-scroll-target="#create-a-new-project">Create a new project</a></li>
  <li><a href="#problems-with-your-personal-computer-and-r" id="toc-problems-with-your-personal-computer-and-r" class="nav-link" data-scroll-target="#problems-with-your-personal-computer-and-r">Problems with your personal computer and R</a></li>
  <li><a href="#installing-packages" id="toc-installing-packages" class="nav-link" data-scroll-target="#installing-packages">Installing packages</a></li>
  </ul></li>
  <li><a href="#exercise-1-1-sample-t-test-milk-yield---walk-through" id="toc-exercise-1-1-sample-t-test-milk-yield---walk-through" class="nav-link" data-scroll-target="#exercise-1-1-sample-t-test-milk-yield---walk-through">Exercise 1: 1-sample t-test Milk Yield - Walk through</a>
  <ul class="collapse">
  <li><a href="#normally-you-choose-0.05-as-a-level-of-significance" id="toc-normally-you-choose-0.05-as-a-level-of-significance" class="nav-link" data-scroll-target="#normally-you-choose-0.05-as-a-level-of-significance">1. Normally you choose <em>0.05</em> as a level of significance:</a></li>
  <li><a href="#write-null-and-alternative-hypotheses" id="toc-write-null-and-alternative-hypotheses" class="nav-link" data-scroll-target="#write-null-and-alternative-hypotheses">2. Write null and alternative hypotheses:</a>
  <ul class="collapse">
  <li><a href="#solution" id="toc-solution" class="nav-link" data-scroll-target="#solution">Solution</a></li>
  </ul></li>
  <li><a href="#check-assumptions-normality" id="toc-check-assumptions-normality" class="nav-link" data-scroll-target="#check-assumptions-normality">3. Check assumptions (normality):</a>
  <ul class="collapse">
  <li><a href="#a.-load-data" id="toc-a.-load-data" class="nav-link" data-scroll-target="#a.-load-data">a. load data:</a></li>
  <li><a href="#solution-1" id="toc-solution-1" class="nav-link" data-scroll-target="#solution-1">Solution</a></li>
  <li><a href="#solution-2" id="toc-solution-2" class="nav-link" data-scroll-target="#solution-2">Solution</a></li>
  <li><a href="#b.-tests-for-normality" id="toc-b.-tests-for-normality" class="nav-link" data-scroll-target="#b.-tests-for-normality">b. Tests for normality:</a></li>
  <li><a href="#solution-3" id="toc-solution-3" class="nav-link" data-scroll-target="#solution-3">Solution</a></li>
  <li><a href="#solution-4" id="toc-solution-4" class="nav-link" data-scroll-target="#solution-4">Solution</a></li>
  <li><a href="#solution-5" id="toc-solution-5" class="nav-link" data-scroll-target="#solution-5">Solution</a></li>
  <li><a href="#solution-6" id="toc-solution-6" class="nav-link" data-scroll-target="#solution-6">Solution</a></li>
  <li><a href="#solution-7" id="toc-solution-7" class="nav-link" data-scroll-target="#solution-7">Solution</a></li>
  </ul></li>
  <li><a href="#calculate-the-test-statistic" id="toc-calculate-the-test-statistic" class="nav-link" data-scroll-target="#calculate-the-test-statistic">4. Calculate the test statistic</a>
  <ul class="collapse">
  <li><a href="#solution-8" id="toc-solution-8" class="nav-link" data-scroll-target="#solution-8">Solution</a></li>
  <li><a href="#obtain-p-value-or-critical-value" id="toc-obtain-p-value-or-critical-value" class="nav-link" data-scroll-target="#obtain-p-value-or-critical-value">5. Obtain P-value or critical value</a></li>
  <li><a href="#solution-9" id="toc-solution-9" class="nav-link" data-scroll-target="#solution-9">Solution</a></li>
  <li><a href="#make-statistical-conclusion" id="toc-make-statistical-conclusion" class="nav-link" data-scroll-target="#make-statistical-conclusion">6. Make statistical conclusion</a></li>
  <li><a href="#solution-10" id="toc-solution-10" class="nav-link" data-scroll-target="#solution-10">Solution</a></li>
  <li><a href="#write-a-scientific-biological-conclusion" id="toc-write-a-scientific-biological-conclusion" class="nav-link" data-scroll-target="#write-a-scientific-biological-conclusion">7. Write a scientific (biological) conclusion</a></li>
  <li><a href="#solution-11" id="toc-solution-11" class="nav-link" data-scroll-target="#solution-11">Solution</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#exercise-2-stinging-trees-individual-or-in-pairs" id="toc-exercise-2-stinging-trees-individual-or-in-pairs" class="nav-link" data-scroll-target="#exercise-2-stinging-trees-individual-or-in-pairs">Exercise 2: Stinging trees (individual or in pairs)</a>
  <ul class="collapse">
  <li><a href="#solution-12" id="toc-solution-12" class="nav-link" data-scroll-target="#solution-12">Solution</a></li>
  <li><a href="#solution-13" id="toc-solution-13" class="nav-link" data-scroll-target="#solution-13">Solution</a></li>
  <li><a href="#solution-14" id="toc-solution-14" class="nav-link" data-scroll-target="#solution-14">Solution</a></li>
  <li><a href="#solution-15" id="toc-solution-15" class="nav-link" data-scroll-target="#solution-15">Solution</a></li>
  <li><a href="#solution-16" id="toc-solution-16" class="nav-link" data-scroll-target="#solution-16">Solution</a></li>
  <li><a href="#solution-17" id="toc-solution-17" class="nav-link" data-scroll-target="#solution-17">Solution</a></li>
  <li><a href="#solution-18" id="toc-solution-18" class="nav-link" data-scroll-target="#solution-18">Solution</a></li>
  <li><a href="#solution-19" id="toc-solution-19" class="nav-link" data-scroll-target="#solution-19">Solution</a></li>
  <li><a href="#check-you-answers-with-teaching-staff" id="toc-check-you-answers-with-teaching-staff" class="nav-link" data-scroll-target="#check-you-answers-with-teaching-staff">Check you answers with teaching staff</a></li>
  <li><a href="#thanks" id="toc-thanks" class="nav-link" data-scroll-target="#thanks">Thanks!</a>
  <ul class="collapse">
  <li><a href="#attribution" id="toc-attribution" class="nav-link" data-scroll-target="#attribution">Attribution</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="welcome" class="level2">
<h2 class="anchored" data-anchor-id="welcome">Welcome</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Learning outcomes
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Learn to use R to calculate a 1-sample t-test</li>
<li>Apply the steps for hypothesis testing from lectures</li>
<li>Learn how to interpret statistical output<br>
</li>
</ul>
</div>
</div>
</section>
<section id="before-you-begin" class="level1">
<h1>Before you begin</h1>
<p>You can download the data</p>
<ol type="1">
<li>From module 5 in Canvas</li>
<li><a href="data/ENVX1002_Data5.xlsx">ENVX1002_Data5.xlsx</a> if you are viewing the html file from Github <a href="https://Github.com/envx-resources" class="uri">https://Github.com/envx-resources</a></li>
</ol>
<section id="create-a-new-project" class="level2">
<h2 class="anchored" data-anchor-id="create-a-new-project">Create a new project</h2>
<p>Reminder (skip to step 2 if you are going to use the directory you created in your tutorial)</p>
<p><strong>Step 1:</strong> Create a new project file for the practical put in your ENVX1002 Folder. <em>File &gt; New Project &gt; New Directory &gt; New Project</em>.</p>
<p><strong>Step 2:</strong> Download the data files from canvas or using above link and copy into your project directory.</p>
<p>I recommend that you make a data folder in your project directory to keep things tidy! If you make a data folder in your project directory you will need to indicate this path before the file name.</p>
<p><strong>Step 3:</strong> Open a new Quarto file.</p>
<p>i.e.&nbsp;<em>File &gt; New File &gt; Quarto Document</em> and save it immediately i.e.&nbsp;File &gt; Save.</p>
</section>
<section id="problems-with-your-personal-computer-and-r" class="level2">
<h2 class="anchored" data-anchor-id="problems-with-your-personal-computer-and-r">Problems with your personal computer and R</h2>
<p>NOTE: If you are having problems with R on your personal computer that cannot easily be solved by a demonstrator, please use the Lab PCs.</p>
</section>
<section id="installing-packages" class="level2">
<h2 class="anchored" data-anchor-id="installing-packages">Installing packages</h2>
<p><strong>Remember</strong> All of the functions and data sets in R are organised into packages. There are the standard (or base) packages which are part of the source code - the functions and data sets that make up these packages are automatically available when R is opened. There are also many contributed packages. These have been written by many different authors, often to implement methods that are not available in the base packages. If you are unable to find a method in the base packages, you might be able to find it in a contributed package. The Comprehensive R Archive Network (CRAN) site <a href="http://cran.r-project.org/">(http://cran.r-project.org/)</a> is where many contributed packages can be downloaded. Click on packages on the left hand side. We will download two packages in this class using the <code>install.packages</code> command and we then load the package into R using the library command.</p>
<p>Alternatively, in RStudio click on the <em>Packages tab &gt; Install &gt; type in package name &gt; click install</em>.</p>
</section>
</section>
<section id="exercise-1-1-sample-t-test-milk-yield---walk-through" class="level1">
<h1>Exercise 1: 1-sample t-test Milk Yield - Walk through</h1>
<p>This exercise will walk you through how to test a hypothesis, check assumptions and eventually draw a conclusion on your initial hypothesis. 100 cows have their milk yield measured. Suppose we wish to test whether these milk yields (units unknown) differ significantly from the economic threshold of 11 units. (The units may possibly be litres of milk produced on a particular day).</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Fact
</div>
</div>
<div class="callout-body-container callout-body">
<p>The average Australian drinks about 100 litres of milk per year. The average cow produces between 12 and 30 litres of milk per day.</p>
</div>
</div>
<p>The data is in the <code>Milk</code> sheet found in the <code>ENVX1002_Data5.xlsx</code> file. You will follow the steps as outlined in the lectures:</p>
<ol type="1">
<li>Choose level of significance (α)</li>
<li>Write null and alternate hypotheses</li>
<li>Check assumptions (normal)</li>
<li>Calculate test statistic</li>
<li>Obtain P-value or critical value</li>
<li>Make statistical conclusion</li>
<li>Write a scientific (biological) conclusion</li>
</ol>
<p>Remember you can remember the above using <strong>HATPC</strong></p>
<p>Lets go:</p>
<section id="normally-you-choose-0.05-as-a-level-of-significance" class="level2">
<h2 class="anchored" data-anchor-id="normally-you-choose-0.05-as-a-level-of-significance">1. Normally you choose <em>0.05</em> as a level of significance:</h2>
<p>This value is generally accepted in the scientific community and is also linked to type 2 errors where choosing a lower significance increases the likelihood of a type 2 error occurring.</p>
</section>
<section id="write-null-and-alternative-hypotheses" class="level2">
<h2 class="anchored" data-anchor-id="write-null-and-alternative-hypotheses">2. Write null and alternative hypotheses:</h2>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Write down the null hypothesis and alternative hypotheses:<br>
H<sub>0</sub>: &lt; Type your answer here &gt;<br>
H<sub>1</sub>: &lt; Type your answer here &gt;</p>
</blockquote>
<hr>
<section id="solution" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution">Solution</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Write down the null hypothesis and alternative hypotheses:<br>
H<sub>0</sub>: <span class="math inline">\mu_{yield}</span> = 11 units<br>
H<sub>1</sub>: <span class="math inline">\mu_{yield}</span> <span class="math inline">\neq</span> 11 units</p>
</blockquote>
<hr>
</section>
</section>
<section id="check-assumptions-normality" class="level2">
<h2 class="anchored" data-anchor-id="check-assumptions-normality">3. Check assumptions (normality):</h2>
<section id="a.-load-data" class="level3">
<h3 class="anchored" data-anchor-id="a.-load-data">a. load data:</h3>
<p><em>Make sure you set your working directory first</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Type your R code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-1" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-1">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>milk <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/ENVX1002_Data5.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Milk"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>It is always good practice to look at the data first to make sure you have the correct data, it loaded in correctly and know what the names of the columns are. This can be done by typing the name of the data <code>Milk</code> or for large datasets, use <code>str()</code> to show the first 6 lines:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Type your R code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-2" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-2">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(milk)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [100 × 1] (S3: tbl_df/tbl/data.frame)
 $ Yield: num [1:100] 18.5 15.9 13.1 15.1 5.7 9.4 15.3 17.6 18.4 22 ...</code></pre>
</div>
</div>
</section>
<section id="b.-tests-for-normality" class="level3">
<h3 class="anchored" data-anchor-id="b.-tests-for-normality">b. Tests for normality:</h3>
<p>qqplots:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Type your R code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-3" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-3">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(milk, <span class="fu">aes</span>(<span class="at">sample =</span> Yield)) <span class="sc">+</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>() <span class="sc">+</span> </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ENVX1002-2024-Lab05_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Histogram and boxplots:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Type your R code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-4" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-4">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(milk, <span class="fu">aes</span>(<span class="at">x =</span> Yield)) <span class="sc">+</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Milk Yield"</span>, <span class="at">x =</span> <span class="st">"Yield"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ENVX1002-2024-Lab05_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(milk, <span class="fu">aes</span>(<span class="at">x =</span> Yield)) <span class="sc">+</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"lightblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ENVX1002-2024-Lab05_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Do the plots indicate the data are normally distributed?<br>
<strong><em>Answer:</em></strong> &lt; Type your answer here &gt;</p>
</blockquote>
<hr>
</section>
<section id="solution-5" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-5">Solution</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Do the plots indicate the data are normally distributed?<br>
<strong><em>Answer:</em></strong> yes - think about why?</p>
</blockquote>
<hr>
<p>Shapiro-Wilk test of normality:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Type your R code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-6" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-6">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(milk<span class="sc">$</span>Yield)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  milk$Yield
W = 0.98967, p-value = 0.6379</code></pre>
</div>
</div>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Does the Shapiro-Wilk test indicate the data are normally distributed? Explain your answer.<br>
<strong><em>Answer:</em></strong> &lt; Type your answer here &gt;</p>
</blockquote>
<hr>
</section>
<section id="solution-7" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-7">Solution</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Does the Shapiro-Wilk test indicate the data are normally distributed? Explain your answer.<br>
<strong><em>Answer:</em></strong> yes. p-value &gt; 0.05.</p>
</blockquote>
<hr>
</section>
</section>
<section id="calculate-the-test-statistic" class="level2">
<h2 class="anchored" data-anchor-id="calculate-the-test-statistic">4. Calculate the test statistic</h2>
<p>In R we achieve this via the command <code>t.test(milk$Yield, mu = …)</code> The R output first gives us the calculated t value, the degrees of freedom, and then the p-value, it then provides the 95% CI and the mean of the sample. Were <code>mu = …</code> is written enter in the hypothesised mean.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># write your R code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="solution-8" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-8">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(milk<span class="sc">$</span>Yield, <span class="at">mu =</span> <span class="dv">11</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  milk$Yield
t = 4.9291, df = 99, p-value = 3.323e-06
alternative hypothesis: true mean is not equal to 11
95 percent confidence interval:
 12.53485 14.60315
sample estimates:
mean of x 
   13.569 </code></pre>
</div>
</div>
</section>
<section id="obtain-p-value-or-critical-value" class="level3">
<h3 class="anchored" data-anchor-id="obtain-p-value-or-critical-value">5. Obtain P-value or critical value</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Does the hypothesised economic threshold lie within the confidence intervals?<br>
<strong><em>Answer:</em></strong> &lt; Type your answer here &gt;</p>
</blockquote>
<hr>
</section>
<section id="solution-9" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-9">Solution</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Does the hypothesised economic threshold lie within the confidence intervals?<br>
<strong><em>Answer:</em></strong> No</p>
</blockquote>
<hr>
</section>
<section id="make-statistical-conclusion" class="level3">
<h3 class="anchored" data-anchor-id="make-statistical-conclusion">6. Make statistical conclusion</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong>: Based on the P-value, do we accept or reject the null hypothesis?<br>
<strong><em>Answer:</em></strong> &lt; Type your answer here &gt;</p>
</blockquote>
<hr>
</section>
<section id="solution-10" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-10">Solution</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong>: Based on the P-value, do we accept or reject the null hypothesis?<br>
<strong><em>Answer:</em></strong> Reject the null hypothesis</p>
</blockquote>
<hr>
</section>
<section id="write-a-scientific-biological-conclusion" class="level3">
<h3 class="anchored" data-anchor-id="write-a-scientific-biological-conclusion">7. Write a scientific (biological) conclusion</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong>: Now write a scientific (biological) conclusion based on the outcome in 6.<br>
<strong><em>Answer:</em></strong> &lt; Type your answer here &gt;</p>
</blockquote>
<hr>
</section>
<section id="solution-11" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-11">Solution</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong>: Now write a scientific (biological) conclusion based on the outcome in 6.<br>
<strong><em>Answer:</em></strong> The milk yields differ significantly from the economic threshold of 11 units. In fact, the cows tested yield an average of 13.6 units (95% CI: 12.5, 14.6), which is significantly higher than the economic threshold of 11 units.</p>
</blockquote>
<hr>
</section>
</section>
</section>
<section id="exercise-2-stinging-trees-individual-or-in-pairs" class="level1">
<h1>Exercise 2: Stinging trees (individual or in pairs)</h1>
<p>Data file: Stinging.csv</p>
<p>A forest ecologist, studying regeneration of rainforest communities in gaps caused by large trees falling during storms, read that stinging tree, <strong>Dendrocnide excelsa</strong>, seedlings will grow 1.5m/year in direct sunlight such as gaps. In the gaps in her study plot, she identified 9 specimens of this species and measure them in 1998 and again 1 year later.</p>
<p>Does her data support the published contention that seedlings of this species will average 1.5m of growth per year in direct sunlight? Also, calculate a 95% CI for the true mean. Analyse the data in R. Due to the small sample size we have to assume the data is normal.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Fact
</div>
</div>
<div class="callout-body-container callout-body">
<p>It was found that researchers wearing welding gloves and a full body suit were still stung by the tree. The sting is extremely painful and can last for months. The pain is caused by a neurotoxin that is injected into the skin. The tree is found in the rainforests of north-eastern Australia.</p>
</div>
</div>
<p>Work through the steps below individually or in pairs. Add more code chunks if required (click insert -&gt; R on above toolbar)</p>
<hr>
<blockquote class="blockquote">
<ol type="1">
<li>Choose level of significance (α)<br>
Answer:</li>
</ol>
</blockquote>
<hr>
<section id="solution-12" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-12">Solution</h3>
<hr>
<blockquote class="blockquote">
<ol type="1">
<li>Choose level of significance (α)<br>
Answer: 0.05 is generally accepted in the scientific community.</li>
</ol>
</blockquote>
<hr>
<hr>
<blockquote class="blockquote">
<ol start="2" type="1">
<li>Write null and alternate hypotheses<br>
H<sub>0</sub>:<br>
H<sub>1</sub>:</li>
</ol>
</blockquote>
<hr>
</section>
<section id="solution-13" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-13">Solution</h3>
<hr>
<blockquote class="blockquote">
<ol start="2" type="1">
<li>Write null and alternate hypotheses<br>
H<sub>0</sub>: <span class="math inline">\mu_{growth}</span> = 1.5m/year<br>
H<sub>1</sub>: <span class="math inline">\mu_{growth}</span> <span class="math inline">\neq</span> 1.5m/year</li>
</ol>
</blockquote>
<hr>
<blockquote class="blockquote">
<ol start="3" type="1">
<li>Check assumptions (normal)</li>
</ol>
</blockquote>
<p>Read in the data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>sting <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/ENVX1002_Data5.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Stinging"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>sting</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 1
  Stinging
     &lt;dbl&gt;
1      1.9
2      2.5
3      1.6
4      2  
5      1.5
6      2.7
7      1.9
8      1  
9      2  </code></pre>
</div>
</div>
<p>Plot your data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Type your R code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-14" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-14">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sting, <span class="fu">aes</span>(<span class="at">sample =</span> Stinging)) <span class="sc">+</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq</span>() <span class="sc">+</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_qq_line</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ENVX1002-2024-Lab05_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sting, <span class="fu">aes</span>(<span class="at">x =</span> Stinging)) <span class="sc">+</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>, <span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogram of Stinging Tree Growth"</span>, <span class="at">x =</span> <span class="st">"Growth (m)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ENVX1002-2024-Lab05_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sting, <span class="fu">aes</span>(<span class="at">x =</span> Stinging)) <span class="sc">+</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">fill =</span> <span class="st">"lightgreen"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Boxplot of Stinging Tree Growth"</span>, <span class="at">x =</span> <span class="st">"Growth (m)"</span>, <span class="at">y =</span> <span class="st">"Frequency"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ENVX1002-2024-Lab05_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Normality tests:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Type your R code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-15" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-15">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># write your R code here</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">shapiro.test</span>(sting<span class="sc">$</span>Stinging)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Shapiro-Wilk normality test

data:  sting$Stinging
W = 0.96096, p-value = 0.8083</code></pre>
</div>
</div>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Are data are normally distributed? Explain your answer.<br>
<strong><em>Answer:</em></strong> &lt; Type your answer here &gt;</p>
</blockquote>
<hr>
</section>
<section id="solution-16" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-16">Solution</h3>
<hr>
<blockquote class="blockquote">
<p><strong><em>Question:</em></strong> Are data are normally distributed? Explain your answer.<br>
<strong><em>Answer:</em></strong> Yes. Both the plots and Shapiro-Wilk test suggest the data is normal (p-value &gt; 0.05).</p>
</blockquote>
<hr>
<blockquote class="blockquote">
<ol start="4" type="1">
<li>Calculate test statistic and<br>
</li>
<li>Obtain P-value or critical value</li>
</ol>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Type your R code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="solution-17" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-17">Solution</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># write your R code here</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">t.test</span>(sting<span class="sc">$</span>Stinging, <span class="at">mu =</span> <span class="fl">1.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    One Sample t-test

data:  sting$Stinging
t = 2.3534, df = 8, p-value = 0.04643
alternative hypothesis: true mean is not equal to 1.5
95 percent confidence interval:
 1.508055 2.291945
sample estimates:
mean of x 
      1.9 </code></pre>
</div>
</div>
<hr>
<blockquote class="blockquote">
<ol start="6" type="1">
<li>Make statistical conclusion<br>
Answer:</li>
</ol>
</blockquote>
<hr>
</section>
<section id="solution-18" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-18">Solution</h3>
<hr>
<blockquote class="blockquote">
<ol start="6" type="1">
<li>Make statistical conclusion<br>
Answer: P &lt; 0.05 so we reject the null hypothesis <span class="math inline">\mu_{growth}</span> = 1.5m/year</li>
</ol>
</blockquote>
<hr>
<hr>
<blockquote class="blockquote">
<ol start="7" type="1">
<li>Write a scientific (biological) conclusion<br>
Answer:</li>
</ol>
</blockquote>
<hr>
</section>
<section id="solution-19" class="level3" style="color:green;">
<h3 style="color:green;" class="anchored" data-anchor-id="solution-19">Solution</h3>
<hr>
<blockquote class="blockquote">
<ol start="7" type="1">
<li>Write a scientific (biological) conclusion<br>
Answer: The growth rate of the stinging tree, <em>Dendrocnide excelsa</em> is not equal to 1.5m/year. The mean growth rate is 1.9 m/year (95% CI: 1.51, 2.29), so the growth rate is faster than the previous study.</li>
</ol>
</blockquote>
<hr>
</section>
<section id="check-you-answers-with-teaching-staff" class="level3">
<h3 class="anchored" data-anchor-id="check-you-answers-with-teaching-staff">Check you answers with teaching staff</h3>
</section>
<section id="thanks" class="level2">
<h2 class="anchored" data-anchor-id="thanks">Thanks!</h2>
<section id="attribution" class="level3">
<h3 class="anchored" data-anchor-id="attribution">Attribution</h3>
<p>This lab was developed using resources that are available under a <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International license</a>, made available on the <a href="https://github.com/usyd-soles-edu/">SOLES Open Educational Resources repository</a>.</p>
<div class="cell">

</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>